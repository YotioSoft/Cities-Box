----------------------------------------------------------------------------------

				Cities Box α版
    　　　　　　　　　　　    	   Ver.0.5.2

----------------------------------------------------------------------------------

1.はじめに
　これは、都市開発ゲーム「Cities Box」のアルファ版です。
　アルファ版の為、動作保証を負うことはできません。ご了承ください。

2.ソースコードについて
　まだまだ完成度は低いですが、こんなのでよろしければ是非改造にご利用ください。
　また、ソースコード上で何かアドバイスなどがありましたら
　コンタクトフォームなどで教えてくださるとありがたいです。

3.使用方法
　α版ですので、実行ファイルは同梱していません。
　Cities_Box.hspをコンパイルしてお使いください。
　
　コンパイルには「HSP スクリプトエディタ」が必要です。
　Cities Box.hspをHSPスクリプトエディタで開いてF5キーを押すか、
　メニューバーの「HSP(P)」→コンパイル(C)をクリックすると実行できます。

4.操作方法
　十字キー：マップ上のカメラ移動
　左クリック：道路の敷設・建物の建設
　右クリック：道路・建物の削除

5.Walls LuxorおよびDarwal OSへの導入・起動方法
　1.Cities_Box.axがあることを確認する。
　　→ない場合はCities_Box.hspをHSPスクリプトエディタで開き、start.axを作成する。
　2.Cities BoxをフォルダごとWalls Luxor或いはDarwal OSのディレクトリにコピーする。
　3.Walls Luxor或いはDarwal OSのエクスプローラーで、コピーしたCities_Box.axを開く。

6.更新履歴
  Ver.0.5.2（2017/04/29）
　　時間帯に応じて明るさを調節する機能を仮実装（夜の概念の実装）
　　
　Ver.0.5.1.1（2017/04/25）
　　横長の建物が正常に撤去できないバグを修正。
　　撤去関連のバグを修正。
　　
　Ver.0.5.1（2017/04/23）
　　建設・撤去処理の動作を効率化（2x2の建物にも対応？）
　　ソースコード内の「削除」「取り壊し」などの表現を「撤去」に統一
　　
　Ver.0.5.0.1（2017/04/17）
　　商業・オフィス・工業区画の需要が伸びないため、取り敢えず需要をランダムに算出するように修正。
　　
　Ver.0.5（2017/04/13）
　　RCOI需要メーターを仮実装。
　　商業・オフィス・工業・公共施設の労働者の収容可能人数（＝求人数）に対応。
　　需要度による人口の増減や労働人口増減に対応。
　　需要度が変動しないバグや労働者数が人口を超えるバグをはじめ多数の需要度関係のバグあり。
　　
　Ver.0.4.4.3（2017/04/07）
　　2マス以上の建物を立てるときに、他のオブジェクトと重なってしまうバグを修正。
　　建物の重複回避機能において、まだ建設していないにも関わらず「建設済み」と判定されるバグを修正。
　　建物の重複回避機能でy方向にも対応。
　　
　Ver.0.4.4.2（2017/04/03）
　　2マス以上の建物を立てるときに、建物の重複回避に仮対応（バグあり、x方向のみ）
　　アドオン選択メニューを開いているときに、2マス以上の建築物の種類の表示がずれるバグを修正。
　　　→ただしメニューを開いているときのFPS値が低下
　　アドオンを建設するときの無駄な処理を削除。
　　暗号化しない方式（.cbd形式）での保存に再び対応。
　　
　Ver.0.4.4.1（2017/03/31）
　　アドオン選択メニューを開くと重くなるバグを修正（道路メニュー除く）
　　住宅地を削除または別の建物に置き換えたときに、減った住民の数を総人口から引くように修正。
　　セーブデータを保存時に、キャンセルを押してもセーブデータの暗号化が行われるバグを修正。
　　
　Ver.0.4.4（2017/03/30）
　　セーブデータの簡単な暗号化(.cbx形式で保存)に対応。
　　暗号化されていないVer.0.4.3.1以前のセーブデータ(.cbd形式)にも対応。
　　関数を何度も使うことで重くなっていた動作を軽減。
　　読み込み中画面を作成。
　　低密度住宅を1つ追加。
　　
　Ver.0.4.3.1（2017/03/28）
　　道路を削除したときに、黒いマスが残ってしまうバグを修正。
　　メニュー画面のボタンを画像化。
　　
　Ver.0.4.3（2017/03/27）
　　メニューを開いているときに、その座標にある建物の種類を色で示す機能を実装。
　　縦方向の横長の建物を立てるときに、立てる位置が1マスずれてしまうバグを修正。
　　
　Ver.0.4.2.8（2017/03/21）
　　yが0のマスにおいて、category変数が0になってしまうバグを修正。
　　マップ外で操作した際にエラーが発生するバグを修正。
　　道路を削除したときに、道路の向きが修正されないバグを修正。
　　道路の向きがスムーズに変わるように修正。
　　
　Ver.0.4.2.7（2017/03/20）
　　道路を引いているときに、関係ない場所が黒いマスになってしまうバグを修正。
　　マップの(0,0)の地点が黒いマスになってしまうバグを修正。
　　道路がすべて2車線道路（オレンジ線）になってしまうバグを修正。
　　
　Ver.0.4.2.6（2017/03/19）
　　マップの端で操作するとエラーが出るバグを修正。
　　
　Ver.0.4.2.5（2017/03/17）
　　2マス以上の建物の上にカーソルを置くと、カーソルが一時的に消えるバグを修正。　
　　建物を正常に削除できないバグを修正。
　　Walls Luxor及びDarwal OS向けにaxファイルを同梱。
　　軸方向に建てられた横長の建物が正常に削除できない（黒いマスがのこる）バグと、
　　縦方向の横長の建物を立てるときに、立てる位置が1マスずれてしまうバグあり。
　　
　Ver.0.4.2.4（2017/03/12）
　　横方向の横長の建物に対応。
　　横方向の建物を立てたときの建物が立つ方向を修正。
　　高密度商業地区に対応し、高密度商業地区の建物を1つ追加。
　　メニューのアイコンを変更。
　　
　Ver.0.4.2.3（2017/03/09）
　　道路を引いているときに、2マス以上の建物にぶつかると2マス以上の建物が消えないバグを修正。
　　道路が削除できないバグを修正。
　　
　Ver.0.4.2.2（2017/03/07）
　　道路が引けなくなるバグを修正。
　　
　Ver.0.4.2.1（2017/03/07）
　　取り壊しモードで道路や建物が削除できないバグを修正。
　　取り壊しモードで道路を削除したときに、道路の向きが修正されないバグを修正。
　　道路上に建物を建設できない仕様に変更。
　　
　Ver.0.4.2（2017/03/06）
　　2×1の横長の建物に対応（バグあり）。
　　工業地区に対応。
　　工場アドオンを1つと、高密度オフィスのアドオンを1つ追加。
　　
　Ver.0.4.1.3（2017/03/03）
　　縦の長さが64px以上の建物の表示に対応。
　　BGMの再生項目を設定に追加。
　　商業地区のメニューが開きにくくなるバグを修正。
　　
　Ver.0.4.1.2（2017/03/02）
　　住居地区の住民の数がマイナスになってしまうバグを修正。
　　前回のプレイ時の総人口と、再起動後の総人口が異なるバグを修正。
　　人口が減少しやすくなるバグあり
　　
　Ver.0.4.1.1（2017/03/01）
　　人口の増減・気温の変化を調節。
　　各住居地区の住民数は、とりあえず1/5の確率で変化するように変更。
　　気温は日中は上がりやすく、夜間は下がりやすく変更。
　　また、季節によって気温の平均値も変動するように変更。
　　　12月～2月：-10℃～15℃
　　　3月～5月：10℃～25℃
　　　6月～8月：20℃～35℃
　　　9月～11月：10℃～25℃
　　
　Ver.0.4.1（2017/02/28）
　　各住居地区ごとの住民数を算出するように実装。
　　総人口はマップ内のすべての住居地区の住民数の総数に変更。
　　保存した後にBGMが切り替わるとき、エラーが発生するバグを修正。
　　
　Ver.0.4（2017/02/26）
　　人口と時間の概念を導入。
　　とりあえず需要関係なしに都市全体の総人口を収容可能人数の範囲内で増減。
　　
　Ver.0.3.7.1（2017/02/20）
　　BGMのランダム再生に対応。
　　
　Ver.0.3.7（2017/02/14）
　　設定画面を実装。都市名、市長名などが設定可能に。
　　稀に一時ファイルが見つからないバグを修正
　　ウィンドウ外でクリックしたときに保存ダイアログが出てくるバグを修正
　　
　Ver.0.3.6.1（2017/02/13）
　　気温の変動に対応。
　　気温が2℃以下になると雨ではなく雪が降る仕様に変更。
　　
　Ver.0.3.6（2017/02/10）
　　雨の表示に仮対応。
　　add_rain変数が0以上になると雨粒が増える仕組みに
　　
　Ver.0.3.5（2017/02/09）
　　ウィンドウサイズの変更および最大化に対応。
　　ウィンドウサイズを取得するとき、タスクバーの高さではなく
　　タイトルバーの高さを取得するように変更。
　　処理する範囲をウィンドウサイズの変更に対応。
　　
　Ver.0.3.4（2017/02/08）
　　マップの保存・読み込み機能を搭載。
　　（暗号化も実装しようとしたがうまく暗号化されなかったため保留）
　　商業地区に対応。
　　
　Ver.0.3.3.3（2017/02/06）
　　取り壊し機能を新たに搭載。
　　常時のカーソルの色を青に、取り壊しモード時のカーソルの色を赤に変更。
　　低密度住居に「ガラス張りの家」と「北米風の一軒家」を追加。
　　アドオンのsingle-lane_roadカテゴリをTwo_lane_roadに変更。
　　
　Ver.0.3.3.2（2017/02/03）
　　ポインタを半透明表示およびアドオンのアイコン表示に変更。
　　小規模な警察署と消防署を追加。
　　
　Ver.0.3.3.1（2017/02/02）
　　高密度住居区域に対応。
　　高密度・低密度選択ボタンを設置。オフィスは今のところ高密度のみ対応
　　アドオン選択メニューで選択していない建物が建設されるバグを修正
　　
　Ver.0.3.3（2017/01/31）
　　アドオン選択メニューを設置。
　　とりあえず道路を4種類に増加。
　　
　Ver.0.3.2.2（2017/01/29）
　　ウィンドウ外でクリックした場合でも「道路に接続していない場所には建設できません！」と出る不具合を修正
　　ときどき終了時にエラーが発生するバグを修正
　　道路の曲がり角のタイルを修正
　　
　Ver.0.3.2.1（2017/01/28）
　　道路の交差部分に建物を立てると黒いタイルが現れるバグを修正。
　　十字路でタイルのズレを修正。
　　
  Ver.0.3.2（2017/01/27）
　　動作を大幅に改善。
　　マップで画面上に表示されている部分のみ処理する仕様に変更したところ、
　　FPS値がおよそ2倍に。
　　
　Ver.0.3.1（2017/01/21）
　　アドオンを読み込む方式をtempファイルを使う方式に変更。
　　動作改善のために変更したが結局ほとんど変わらず。
　　
　Ver.0.3（2017/01/16）
　　アドオンファイル（.adat形式）の導入。
　　郵便局を追加
　　
　Ver.0.2（2017/01/12）
　　敷設・建設ボタン設置。
　　建物の建設・道路の敷設が自由に。
　　
　Ver.0.1（2017/01/10）
　　Cities Boxのα版の最初のバージョン。建物や道路をランダムに配置し、
　　道路の向きを自動的に揃えられるかのテスト。